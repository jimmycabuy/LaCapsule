{"ast":null,"code":"import _slicedToArray from\"/Users/jimmycabuy/Documents/jim/DIVERS/code/lacapsule/projet/mymoviz/part5/reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../stylesheet/movie.css\";import React,{useState}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import{Card,CardImg,CardBody,CardText,Badge,CardGroup}from\"reactstrap\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faHeart}from\"@fortawesome/free-solid-svg-icons\";import{faVideo}from\"@fortawesome/free-solid-svg-icons\";import{faStar}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Movie(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),likeMovie=_useState2[0],setLikeMovie=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),watchMovie=_useState4[0],setWatchMovie=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),countWatchMovie=_useState6[0],setCountWatchMovie=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),myRatingMovie=_useState8[0],setMyRatingMovie=_useState8[1];var heartClick=function heartClick(){if(likeMovie===true){setLikeMovie(false);props.handleClickRemoveMovieParent(props.movieName,props.movieImg);}else{setLikeMovie(true);props.handleClickAddMovieParent(props.movieName,props.movieImg);}};var cameraClick=function cameraClick(){setWatchMovie(true);setCountWatchMovie(countWatchMovie+1);};var starClickPlus=function starClickPlus(){if(myRatingMovie<10){setMyRatingMovie(myRatingMovie+1);}};var starClickMoins=function starClickMoins(){if(myRatingMovie>0){setMyRatingMovie(myRatingMovie-1);}};var handleStarClick=function handleStarClick(counter){setMyRatingMovie(myRatingMovie=counter+1);};var starAvis=[];var _loop=function _loop(){var counter=i;if(i<myRatingMovie){starAvis.push(/*#__PURE__*/_jsx(\"p\",{className:\"star\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:function onClick(){return handleStarClick(counter);},style:{color:\"#FFD36E\"},icon:faStar})}));}else{starAvis.push(/*#__PURE__*/_jsx(\"p\",{className:\"star\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:function onClick(){return handleStarClick(counter);},icon:faStar})}));}};for(var i=0;i<10;i++){_loop();}var heartColor;var cameraColor;if(likeMovie){heartColor={color:\"#FD5D5D\"};}if(watchMovie){cameraColor={color:\"#FD5D5D\"};}var globalRating2=props.globalRating;var globalCountRating2=props.globalCountRating;var moyenneFinale=0;if(myRatingMovie===0){moyenneFinale=globalRating2;}else{moyenneFinale=(globalRating2*globalCountRating2+myRatingMovie)/(globalCountRating2+1);globalCountRating2+=1;}var moyenneArrondi=Math.round(moyenneFinale);var starMoyenne=[];for(var j=0;j<10;j++){if(j<moyenneArrondi){starMoyenne.push(/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{style:{color:\"#FFD36E\"},icon:faStar})}));}else{starMoyenne.push(/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar})}));}}// var handleClickAddMovie = () => {\n//   props.handleClickAddMovieParent();\n// }\nreturn/*#__PURE__*/_jsx(CardGroup,{className:\"card_movie col-12 col-lg-6 col-xl-4\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardImg,{alt:props.movieName,src:props.movieImg,top:true,width:\"100%\"}),/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(CardText,{children:/*#__PURE__*/_jsx(\"h5\",{className:\"movie_title\",children:props.movieName})}),/*#__PURE__*/_jsxs(CardText,{className:\"card_text\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Favoris\"}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return heartClick();},style:heartColor,className:\"heart\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faHeart})})]}),/*#__PURE__*/_jsxs(CardText,{className:\"card_text\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Nombres de vues\"}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return cameraClick();},style:cameraColor,className:\"camera\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faVideo})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(Badge,{color:\"secondary\",children:/*#__PURE__*/_jsx(\"span\",{children:countWatchMovie})})})]}),/*#__PURE__*/_jsxs(CardText,{className:\"card_text\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Avis\"}),starAvis,/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Badge,{onClick:function onClick(){return starClickMoins();},color:\"secondary\",className:\"badge_avis\",children:\"-\"}),/*#__PURE__*/_jsx(Badge,{onClick:function onClick(){return starClickPlus();},color:\"secondary\",className:\"badge_avis\",children:\"+\"})]})]}),/*#__PURE__*/_jsxs(CardText,{className:\"card_text\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Moyenne\"}),starMoyenne,/*#__PURE__*/_jsxs(\"p\",{children:[\"(\",globalCountRating2,\" votes)\"]})]}),/*#__PURE__*/_jsxs(CardText,{children:[\" \",/*#__PURE__*/_jsx(\"p\",{className:\"synopsis\",children:\"Synopsis:\"}),props.movieDesc]})]})]})});}export default Movie;","map":{"version":3,"sources":["/Users/jimmycabuy/Documents/jim/DIVERS/code/lacapsule/projet/mymoviz/part5/reactapp/src/components/movie.jsx"],"names":["React","useState","Card","CardImg","CardBody","CardText","Badge","CardGroup","FontAwesomeIcon","faHeart","faVideo","faStar","Movie","props","likeMovie","setLikeMovie","watchMovie","setWatchMovie","countWatchMovie","setCountWatchMovie","myRatingMovie","setMyRatingMovie","heartClick","handleClickRemoveMovieParent","movieName","movieImg","handleClickAddMovieParent","cameraClick","starClickPlus","starClickMoins","handleStarClick","counter","starAvis","i","push","color","heartColor","cameraColor","globalRating2","globalRating","globalCountRating2","globalCountRating","moyenneFinale","moyenneArrondi","Math","round","starMoyenne","j","movieDesc"],"mappings":"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","sourcesContent":["import \"../stylesheet/movie.css\";\nimport React, { useState } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport {\n  Card,\n  CardImg,\n  CardBody,\n  CardText,\n  Badge,\n  CardGroup,\n} from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { faVideo } from \"@fortawesome/free-solid-svg-icons\";\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction Movie(props) {\n  const [likeMovie, setLikeMovie] = useState(false);\n  const [watchMovie, setWatchMovie] = useState(false);\n  const [countWatchMovie, setCountWatchMovie] = useState(0);\n  let [myRatingMovie, setMyRatingMovie] = useState(0);\n\n  var heartClick = () => {\n    if (likeMovie === true) {\n      setLikeMovie(false);\n      props.handleClickRemoveMovieParent(props.movieName, props.movieImg);\n    } else {\n      setLikeMovie(true);\n      props.handleClickAddMovieParent(props.movieName, props.movieImg);\n    }\n  };\n\n  var cameraClick = () => {\n    setWatchMovie(true);\n    setCountWatchMovie(countWatchMovie + 1);\n  };\n\n  var starClickPlus = () => {\n    if (myRatingMovie < 10) {\n      setMyRatingMovie(myRatingMovie + 1);\n    }\n  };\n\n  var starClickMoins = () => {\n    if (myRatingMovie > 0) {\n      setMyRatingMovie(myRatingMovie - 1);\n    }\n  };\n\n  let handleStarClick = (counter) => {\n    setMyRatingMovie((myRatingMovie = counter + 1));\n  };\n\n  var starAvis = [];\n  for (var i = 0; i < 10; i++) {\n    let counter = i;\n    if (i < myRatingMovie) {\n      starAvis.push(\n        <p className=\"star\">\n          <FontAwesomeIcon\n            onClick={() => handleStarClick(counter)}\n            style={{ color: \"#FFD36E\" }}\n            icon={faStar}\n          />\n        </p>\n      );\n    } else {\n      starAvis.push(\n        <p className=\"star\">\n          <FontAwesomeIcon\n            onClick={() => handleStarClick(counter)}\n            icon={faStar}\n          />\n        </p>\n      );\n    }\n  }\n\n  var heartColor;\n  var cameraColor;\n\n  if (likeMovie) {\n    heartColor = { color: \"#FD5D5D\" };\n  }\n\n  if (watchMovie) {\n    cameraColor = { color: \"#FD5D5D\" };\n  }\n\n  var globalRating2 = props.globalRating;\n  var globalCountRating2 = props.globalCountRating;\n\n  var moyenneFinale = 0;\n  if (myRatingMovie === 0) {\n    moyenneFinale = globalRating2;\n  } else {\n    moyenneFinale =\n      (globalRating2 * globalCountRating2 + myRatingMovie) /\n      (globalCountRating2 + 1);\n    globalCountRating2 += 1;\n  }\n  var moyenneArrondi = Math.round(moyenneFinale);\n\n  var starMoyenne = [];\n  for (var j = 0; j < 10; j++) {\n    if (j < moyenneArrondi) {\n      starMoyenne.push(\n        <p>\n          <FontAwesomeIcon style={{ color: \"#FFD36E\" }} icon={faStar} />\n        </p>\n      );\n    } else {\n      starMoyenne.push(\n        <p>\n          <FontAwesomeIcon icon={faStar} />\n        </p>\n      );\n    }\n  }\n\n  // var handleClickAddMovie = () => {\n  //   props.handleClickAddMovieParent();\n  // }\n\n  return (\n    <CardGroup className=\"card_movie col-12 col-lg-6 col-xl-4\">\n      <Card>\n        <CardImg alt={props.movieName} src={props.movieImg} top width=\"100%\" />\n        <CardBody>\n          <CardText>\n            <h5 className=\"movie_title\">{props.movieName}</h5>\n          </CardText>\n          <CardText className=\"card_text\">\n            <p>Favoris</p>\n            <p\n              onClick={() => heartClick()}\n              style={heartColor}\n              className=\"heart\"\n            >\n              <FontAwesomeIcon icon={faHeart} />\n            </p>\n          </CardText>\n          <CardText className=\"card_text\">\n            <p>Nombres de vues</p>\n            <p\n              onClick={() => cameraClick()}\n              style={cameraColor}\n              className=\"camera\"\n            >\n              <FontAwesomeIcon icon={faVideo} />\n            </p>\n            <p>\n              <Badge color=\"secondary\">\n                <span>{countWatchMovie}</span>\n              </Badge>\n            </p>\n          </CardText>\n          <CardText className=\"card_text\">\n            <p>Avis</p>\n            {starAvis}\n            {/* <p>(<span>{ myRatingMovie }</span>)</p> */}\n            <p>\n              <Badge\n                onClick={() => starClickMoins()}\n                color=\"secondary\"\n                className=\"badge_avis\"\n              >\n                -\n              </Badge>\n              <Badge\n                onClick={() => starClickPlus()}\n                color=\"secondary\"\n                className=\"badge_avis\"\n              >\n                +\n              </Badge>\n            </p>\n          </CardText>\n          <CardText className=\"card_text\">\n            <p>Moyenne</p>\n            {starMoyenne}\n            <p>({globalCountRating2} votes)</p>\n          </CardText>\n          <CardText>\n            {\" \"}\n            <p className=\"synopsis\">Synopsis:</p>\n            {props.movieDesc}\n          </CardText>\n        </CardBody>\n      </Card>\n    </CardGroup>\n  );\n}\n\nexport default Movie;"]},"metadata":{},"sourceType":"module"}